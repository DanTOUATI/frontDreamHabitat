{
  acme_ca https://acme-staging-v02.api.letsencrypt.org/directory
  email votre_email@example.com
}

dreamhabitat.victor-zhang.fr {
  root * /usr/share/caddy
  file_server

  handle /api/* {
    reverse_proxy app:8080
  }

  handle {
    try_files {path} /index.html
  }

  log {
    output file /var/log/caddy/access.log
    format json
  }

  handle_errors {
    respond "{http.error.status_code} {http.error.status_text}" 500
  }
}
